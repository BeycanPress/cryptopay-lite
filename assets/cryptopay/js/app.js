(function(){"use strict";var e={7809:function(e,t,o){var n=o(9003);const r={class:"cp-app-content"};function i(e,t,o,i,a,s){const c=(0,n.up)("NetworkList"),l=(0,n.up)("WalletPayment"),d=(0,n.up)("Modal"),p=(0,n.up)("container");return(0,n.wg)(),(0,n.j4)(p,null,{default:(0,n.w5)((()=>[(0,n._)("div",r,[!0!==s.loaded?((0,n.wg)(),(0,n.j4)(c,{key:0,networks:s.networks},null,8,["networks"])):!0===s.loaded?((0,n.wg)(),(0,n.j4)(l,{key:1,network:s.selectedNetwork},null,8,["network"])):(0,n.kq)("",!0),(0,n.Wm)(d,{show:"loading"==s.loaded,loading:!0,title:e.$root.config.lang.loading},null,8,["show","title"])])])),_:1})}const a={ref:"modal",class:"cp-modal"},s={class:"content"},c={class:"cp-title"},l={key:0,class:"waiting-icon"},d=(0,n.uE)('<svg width="94px" height="94px" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="#2172E5"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g></svg>',1),p=[d];function u(e,t,o,r,i,d){return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",s,[(0,n._)("div",c,(0,n.zw)(o.title),1),o.loading?((0,n.wg)(),(0,n.iD)("div",l,p)):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"default")])],512)),[[n.F8,o.show]])}var g={name:"Modal",emits:["close"],props:["title","loading","show"],mounted(){this.$refs.modal.addEventListener("click",(e=>{this.$refs.modal==e.target&&this.$emit("close")}))}},m=o(89);const w=(0,m.Z)(g,[["render",u]]);var h=w;const f={key:0},y={class:"cp-title"},k={class:"cp-list"},v=["onClick"],b=["src","alt"],C={class:"name"};function $(e,t,o,r,i,a){const s=(0,n.up)("Right"),c=(0,n.up)("el-icon");return o.networks.length>1?((0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("div",y,(0,n.zw)(e.$root.config.lang.selectNetwork),1),(0,n._)("ul",k,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.networks,(e=>((0,n.wg)(),(0,n.iD)("li",{class:"network",key:e.nativeCurrency.symbol,onClick:t=>a.selectNetwork(e)},[(0,n._)("img",{class:"img-icon",src:a.getNetworkIcon(e),alt:e.nativeCurrency.symbol},null,8,b),(0,n._)("span",C,(0,n.zw)(e.name),1),(0,n.Wm)(c,{size:25},{default:(0,n.w5)((()=>[(0,n.Wm)(s)])),_:1})],8,v)))),128))])])):(0,n.kq)("",!0)}var P={name:"NetworkList",props:["networks"],methods:{selectNetwork(e){this.$store.dispatch("init",e)},getNetworkIcon(e){return this.$root.config.imagesUrl+"icons/"+e.nativeCurrency.symbol.toLowerCase()+".svg"}}};const _=(0,m.Z)(P,[["render",$]]);var N=_;const x={id:"cp-currencies"},D=["onClick"],M=["src","alt"],O={class:"currency-name"};function S(e,t,o,r,i,a){const s=(0,n.up)("Header"),c=(0,n.up)("el-col"),l=(0,n.up)("el-row"),d=(0,n.up)("el-alert"),p=(0,n.up)("el-button"),u=(0,n.up)("WalletList"),g=(0,n.up)("Modal"),m=(0,n.up)("Confirmation");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(s,{order:a.order,selectedNetwork:a.selectedNetwork},null,8,["order","selectedNetwork"]),e.currencies.length>1?((0,n.wg)(),(0,n.j4)(l,{key:0,class:"cp-payment-currency"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{span:24},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.paymentCurrency),1)])),_:1}),(0,n.Wm)(c,{span:24},{default:(0,n.w5)((()=>[(0,n._)("ul",x,[(0,n.Wm)(l,{gutter:20},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.currencies,(e=>((0,n.wg)(),(0,n.j4)(c,{span:12,key:e.address},{default:(0,n.w5)((()=>[(0,n._)("li",{class:(0,n.C_)(a.isSelected(e)),onClick:t=>a.changeSelectedCurrency(e)},[(0,n._)("img",{class:"icon",src:a.getCurrencyImage(e),alt:e.symbol},null,8,M),(0,n._)("span",O,(0,n.zw)(e.symbol),1)],10,D)])),_:2},1024)))),128))])),_:1})])])),_:1})])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(l,{class:"cp-payment-amount"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.amountToBePaid),1)])),_:1}),(0,n.Wm)(c,{span:12},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{title:a.getPaymentAmount,type:"success",closable:!1,class:"cp-payment-amount"},null,8,["title"])])),_:1})])),_:1}),(0,n._)("div",null,[a.selectedNetwork?((0,n.wg)(),(0,n.j4)(p,{key:0,type:"primary",class:"pay-now cp-pay-action-btn",onClick:t[0]||(t[0]=t=>e.walletModal=!0)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.payNow),1)])),_:1})):(0,n.kq)("",!0)]),(0,n.Wm)(u,{onConnected:a.connected,onCloseModal:t[1]||(t[1]=t=>e.walletModal=!1),show:e.walletModal,wallets:e.wallets},null,8,["onConnected","show","wallets"]),(0,n.Wm)(g,{show:e.approval,loading:!0,title:e.$root.config.lang.waitingApproval},null,8,["show","title"]),(0,n.Wm)(g,{show:e.processing,loading:!0,title:e.$root.config.lang.processing},null,8,["show","title"]),e.startConfirmation?((0,n.wg)(),(0,n.j4)(m,{key:1,hash:e.hash},null,8,["hash"])):(0,n.kq)("",!0)])}var W=o(4161),j=o(2492),z=o.n(j);function T(){z().close()}function L(e,t=null){return z().fire({title:e,html:t,icon:"info",didOpen:()=>{z().hideLoading()}})}function A(e,t=null){return z().fire({title:e,html:t,icon:"warning",didOpen:()=>{z().hideLoading()}})}function E(e,t=null){return z().fire({title:e,html:t,icon:"error",didOpen:()=>{z().hideLoading()}})}function I(e,t=null){return z().fire({title:e,html:t,icon:"success",didOpen:()=>{z().hideLoading()}})}function q(e,t=null){z().fire({title:e,html:t,allowOutsideClick:!1,didOpen:()=>{z().showLoading()}})}function F(){var e=document.createElement("div");e.className+="overlay",e.style.backgroundColor="#EFEFEF",e.style.position="fixed",e.style.width="100%",e.style.height="100%",e.style.zIndex="999999999999999",e.style.top="0px",e.style.left="0px",e.style.opacity=".5",document.body.appendChild(e)}function U(){window.onbeforeunload=()=>"There is an ongoing process, please do not close the browser."}function Z(){window.onbeforeunload=!1}function R(){var e=new Date,t=e.getTime()+6e4*e.getTimezoneOffset(),o=new Date(t+0);return Math.floor(o.getTime()/1e3)}function B(){let e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}var H={Swal:z(),infoPopup:L,errorPopup:E,warningPopup:A,successPopup:I,waitingPopup:q,disableScreen:F,ongoingProcess:U,ongoingProcessEnded:Z,closePopup:T,getUTCTime:R,isMobile:B};function K(e,t,o,r,i,a){const s=(0,n.up)("el-col"),c=(0,n.up)("el-row");return(0,n.wg)(),(0,n.j4)(c,{justify:"center",class:"cp-information-row"},{default:(0,n.w5)((()=>[o.order.id?((0,n.wg)(),(0,n.j4)(s,{key:0,span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.orderId),1)])),_:1})):(0,n.kq)("",!0),o.order.id?((0,n.wg)(),(0,n.j4)(s,{key:1,span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(o.order.id),1)])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(s,{span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.orderAmount),1)])),_:1}),(0,n.Wm)(s,{span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(o.order.amount)+" "+(0,n.zw)(o.order.currency),1)])),_:1}),(0,n.Wm)(s,{span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.selectedNetwork),1)])),_:1}),(0,n.Wm)(s,{span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(o.selectedNetwork.name),1)])),_:1})])),_:1})}var Y={name:"Header",props:["order","selectedNetwork"]};const J=(0,m.Z)(Y,[["render",K]]);var G=J;const Q={key:0,class:"cp-list"},V=["onClick"],X=["src","alt"],ee={class:"name"},te={class:"status"},oe={key:0,class:"detected"},ne={key:1,class:"download"},re={key:2,class:"openInApp"},ie={key:1,class:"cp-no-any-wallet"};function ae(e,t,o,r,i,a){const s=(0,n.up)("Modal");return(0,n.wg)(),(0,n.j4)(s,{show:o.show,onClose:t[0]||(t[0]=t=>e.$emit("closeModal")),loading:e.waiting,title:e.$root.config.lang.selectWallet},{default:(0,n.w5)((()=>[!e.waiting&&a.anyWalletIsFounded()?((0,n.wg)(),(0,n.iD)("ul",Q,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.wallets,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t.getKey(),onClick:e=>a.connect(t),style:(0,n.j5)(a.hideInMobile(t))},[(0,n._)("img",{class:"img-icon",src:a.getWalletIcon(t),alt:t.getName()},null,8,X),(0,n._)("span",ee,(0,n.zw)(t.getName()),1),(0,n._)("span",te,[!0===t.isDetected()?((0,n.wg)(),(0,n.iD)("span",oe,(0,n.zw)(e.$root.config.lang.detected),1)):e.helpers.isMobile()||!1!==t.isDetected()?e.helpers.isMobile()&&t.getDeepLink()&&"walletconnect"!=t.getKey()?((0,n.wg)(),(0,n.iD)("span",re,(0,n.zw)(e.$root.config.lang.openInApp),1)):(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",ne,(0,n.zw)(e.$root.config.lang.download),1))])],12,V)))),128))])):a.anyWalletIsFounded()?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",ie,(0,n.zw)(e.$root.config.lang.notFoundAnyWallet.replace("{networkName}",a.selectedNetwork.name)),1))])),_:1},8,["show","loading","title"])}var se={name:"WalletList",props:["wallets","show"],emits:["connected","closeModal"],components:{Modal:h},data:()=>({helpers:H,waiting:!1,networkChangeMsg:""}),computed:{selectedNetwork(){return this.$store.getters.getSelectedNetwork}},created(){let e=String(this.$root.config.lang.pleaseTryToConnectagain);this.networkChangeMsg=e.replace("{networkName}",this.selectedNetwork.name)},methods:{hideInMobile(e){if(H.isMobile())return"walletconnect"==e.getKey()||e.getSupports().includes("mobile")&&e.getDeepLink()?"":"display: none;"},anyWalletIsFounded(){return 0!==Object.keys(this.wallets).length},getWalletIcon(e){return this.$root.config.walletImages[e.getKey()]},connect(e){if(!1===e.isDetected()){if(H.isMobile()&&e.getDeepLink()){let t=e.getDeepLink();return t=t.replaceAll("{siteUrl}",window.location.origin),window.open(t,"_blank")}if(!H.isMobile()&&e.getDownloadLink())return window.open(e.getDownloadLink(),"_blank")}this.waiting=!0,e.connect().then((()=>{this.$emit("connected",e)})).catch((e=>{console.error(e),"request-rejected"==e?H.warningPopup(this.$root.config.lang.connectionRejected):"not-accepted-chain"==e?H.errorPopup(this.$root.config.lang.connectionError,this.networkChangeMsg):"rpc-access-forbidden"==e?H.errorPopup(this.$root.config.lang.rpcAccessForbidden):"invalid-rpc-error"==e?H.errorPopup(this.$root.config.lang.connectionError,this.networkChangeMsg):"timeout"==e?H.errorPopup(this.$root.config.lang.walletConnectionTimedOut,this.$root.config.lang.pleaseTryAgain):this.$root.config.lang[e]?H.errorPopup(this.$root.config.lang[e]):"already-processing"==e?H.errorPopup(this.$root.config.lang.alreadyProcessing):H.errorPopup(this.$root.config.lang.pleaseTryAgain)})).finally((()=>{this.waiting=!1}))}}};const ce=(0,m.Z)(se,[["render",ae]]);var le=ce;const de={key:0},pe={key:0},ue={key:1};function ge(e,t,o,r,i,a){const s=(0,n.up)("el-col"),c=(0,n.up)("el-button"),l=(0,n.up)("el-row"),d=(0,n.up)("Modal");return(0,n.wg)(),(0,n.j4)(d,{show:!0,loading:!0,title:e.$root.config.lang.waitingConfirmation},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{justify:"center",class:"cp-confirmation-row"},{default:(0,n.w5)((()=>[1==e.step?((0,n.wg)(),(0,n.iD)("div",de,[(0,n.Wm)(s,{span:24},{default:(0,n.w5)((()=>[null!=e.blockConfirmations?((0,n.wg)(),(0,n.iD)("div",pe,(0,n.zw)(e.$root.config.lang.waitingBlockConfirmations)+" "+(0,n.zw)(e.blockConfirmations)+" / "+(0,n.zw)(a.blockConfirmationCount),1)):((0,n.wg)(),(0,n.iD)("div",ue,(0,n.zw)(e.$root.config.lang.waitingTransactionConfirmations),1))])),_:1}),(0,n.Wm)(s,{span:24},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"cp-explorer-btn",type:"primary",onClick:t[0]||(t[0]=e=>a.openInExplorer())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.openInExplorer),1)])),_:1})])),_:1})])):((0,n.wg)(),(0,n.j4)(s,{key:1,span:24},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.pleaseWait),1)])),_:1}))])),_:1})])),_:1},8,["title"])}var me={name:"Confirmation",props:["hash"],components:{Modal:h},data:()=>({tx:null,step:1,blockConfirmations:null}),computed:{order(){return this.$store.getters.getOrder},provider(){return this.$store.getters.getProvider},receiver(){return this.$store.getters.getReceiver},selectedNetwork(){return this.$store.getters.getSelectedNetwork},blockConfirmationCount(){return this.$store.getters.getBlockConfirmationCount}},async mounted(){H.ongoingProcess(),this.tx=this.provider.Transaction(this.hash);let e=this.order.paymentCurrency.address||null;this.tx.setTimer(5);let t=await this.tx.verifyTransferWithData({receiver:this.receiver,tokenAddress:e,amount:this.order.paymentAmount});t&&this.tx.getConfirmations&&this.blockConfirmationCount>0&&(t=await new Promise((e=>{let t=setInterval((async()=>{this.blockConfirmations=await this.tx.getConfirmations(),this.blockConfirmations>=this.blockConfirmationCount&&(e(!0),clearInterval(t))}))}))),this.step=2,this.$root.config.createTransaction&&await W.Z.post("payment-finished",{status:t,hash:this.hash,order:this.order,network:this.selectedNetwork,dynamicData:this.$store.getters.getDynamicData}).then((e=>{let t,o=e.data;return t=o.success?H.successPopup(o.message):H.errorPopup(o.message),H.ongoingProcessEnded(),t.then((()=>{H.disableScreen(),"reload"==o.data.redirect?window.location.reload():window.location.href=o.data.redirect})),!0})).catch((e=>{let t=e.response.data||{},o=t.message||e.message;return H.errorPopup(o).then((()=>{H.disableScreen(),window.location.reload()})),!1})),H.ongoingProcessEnded(),this.$root.config.hooks&&this.$root.config.hooks.confirmationCompleted&&this.$root.config.hooks.confirmationCompleted(this.selectedNetwork,this.tx)},methods:{openInExplorer(){window.open(this.tx.getUrl(),"_blank")}}};const we=(0,m.Z)(me,[["render",ge]]);var he=we,fe={name:"WalletPayment",props:["network"],components:{Confirmation:he,WalletList:le,Header:G,Modal:h},data:()=>({wallets:null,approval:!1,processing:!1,converting:!1,walletModal:!1,startConfirmation:!1,blockConfirmations:null,selectedCurrency:null,hash:null,currencies:[],networkChangeMsg:""}),async created(){this.wallets=this.provider.getSupportedWallets(this.selectedNetwork.wallets),this.$nextTick((async()=>{this.currencies=this.selectedNetwork.currencies,this.selectedCurrency=this.currencies[0];let e=String(this.$root.config.lang.pleaseTryToConnectAgain);this.networkChangeMsg=e.replace("{networkName}",this.selectedNetwork.name)}))},computed:{order(){return this.$store.getters.getOrder},provider(){return this.$store.getters.getProvider},selectedNetwork(){return this.$store.getters.getSelectedNetwork},getPaymentAmount(){if(this.converting)return"...";if(!this.selectedCurrency)return;let e=this.order.paymentAmount||0;return e+" "+this.selectedCurrency.symbol},receiver(){return this.$store.getters.getReceiver}},methods:{getCurrencyImage(e){return e.image||this.$root.config.imagesUrl+"icons/"+e.symbol.toLowerCase()+".svg"},async changeSelectedCurrency(e){let t=document.querySelector(".pay-now");t&&(this.converting||(t.setAttribute("disabled","disabled"),this.converting=!0,await this.$store.dispatch("currencyConverter",e),this.selectedCurrency=e,t.removeAttribute("disabled"),this.converting=!1))},isSelected(e){return this.selectedCurrency&&this.selectedCurrency.address==e.address?"selected":""},async connected(e){this.approval=!0,this.walletModal=!1;let t=this.selectedCurrency.address||null,o=this.order.paymentCurrency;o.symbol==this.selectedNetwork.nativeCurrency.symbol?o.decimals=this.selectedNetwork.nativeCurrency.decimals:o.decimals=await this.provider.Token(o.address).getDecimals(),this.$store.dispatch("addOrderParam",{paymentCurrency:o}),e.transfer(this.receiver,this.order.paymentAmount,t).then((async e=>{if(this.approval=!1,this.processing=!0,this.hash=e.hash,this.$root.config.hooks&&this.$root.config.hooks.transactionSent&&this.$root.config.hooks.transactionSent(this.selectedNetwork,e),this.$root.config.createTransaction){let t=await W.Z.post("create-transaction",{order:this.order,hash:e.hash,network:this.selectedNetwork,dynamicData:this.$store.getters.getDynamicData}).then((e=>e.data)).catch((e=>e.response&&e.response.data||e));if(!t.success)return H.errorPopup(t.message).then((()=>{H.disableScreen(),t.data&&"reload"==t.data.redirect?window.location.reload():window.location.href=data.data.redirect}));t.data&&(t.data.order&&this.$store.dispatch("addOrderParam",t.data.order),this.$store.dispatch("addDynamicData",t.data))}this.approval=!1,this.processing=!1,this.$root.config.hooks&&this.$root.config.hooks.transactionCreated&&this.$root.config.hooks.transactionCreated(this.selectedNetwork,e),this.$root.config.confirmation&&(this.startConfirmation=!0)})).catch((e=>{this.approval=!1,this.processing=!1,this.walletModal=!0,"transaction-create-fail"==e?H.errorPopup(this.$root.config.lang.transactionCreateFail,this.$root.config.lang.pleaseTryAgain):"insufficient-balance"==e?H.infoPopup(this.$root.config.lang.insufficientBalance):"transfer-amount-error"==e?H.infoPopup(this.$root.config.lang.transferAmountError):"request-rejected"==e?H.warningPopup(this.$root.config.lang.paymentRejected):this.$root.config.lang[e]?H.errorPopup(this.$root.config.lang[e]):"rpc-access-forbidden"==e?H.errorPopup(this.$root.config.lang.rpcAccessForbidden):"not-accepted-chain"==e?H.errorPopup(this.$root.config.lang.connectionError,this.networkChangeMsg):H.errorPopup(this.$root.config.lang.pleaseTryAgain)}))}}};const ye=(0,m.Z)(fe,[["render",S]]);var ke=ye,ve={name:"App",components:{Modal:h,NetworkList:N,WalletPayment:ke},created(){1==this.networks.length&&this.$store.dispatch("init",this.networks[0])},computed:{selectedNetwork(){return this.$store.getters.getSelectedNetwork},networks(){return this.$store.getters.getNetworks},loaded(){return this.$store.getters.getLoaded}}};const be=(0,m.Z)(ve,[["render",i]]);var Ce=be,$e=o(65),Pe=o(861),_e=o.n(Pe),Ne=(0,$e.MT)({state:{loaded:!1,order:{},config:{},networks:[],dynamicData:{},provider:null,receiver:null,selectedNetwork:null,blockConfirmationCount:0},mutations:{setOrder(e,t){e.order=t},setConfig(e,t){e.config=t},setProvider(e,t){e.provider=t},setReceiver(e,t){e.receiver=t},setLoaded(e,t){e.loaded=t},setNetworks(e,t){e.networks=t},setSelectedNetwork(e,t){e.selectedNetwork=t},addOrderParam(e,t){e.order=Object.assign(e.order,t)},addDynamicData(e,t){e.dynamicData=Object.assign(e.dynamicData,t)},setBlockConfirmationCount(e,t){e.blockConfirmationCount=t}},actions:{async init({commit:e,dispatch:t,state:o},n){if(0==n.currencies.length)return H.errorPopup(o.config.lang.notFoundAnyCurrency);let r;e("setLoaded","loading"),e("setSelectedNetwork",n),r="evmBased"==n.code?{network:JSON.parse(JSON.stringify(n))}:{network:n.code};let i=n.currencies[0];e("addOrderParam",{paymentCurrency:i}),o.config.init&&!o.config.init.paymentAmount&&(o.config.init.amount=parseFloat(o.order.amount),o.config.init.paymentAmount=await t("currencyConverter",i));let a={success:!0};try{const t=async t=>{r.testnet=!!o.config.testnet;let n=new(_e())({network:r.network,testnet:r.testnet});return e("setProvider",n),e("setReceiver",t.receiver),e("addOrderParam",{paymentAmount:t.paymentAmount}),e("setBlockConfirmationCount",t.blockConfirmationCount),{success:!0}};a=o.config.init?await t(o.config.init):await W.Z.get("init",{params:{order:o.order,network:o.selectedNetwork}}).then((async function(e){if(e.data.success){if(e.data.data.redirect)return"reload"==e.data.data.redirect?window.location.reload():window.location.href=e.data.data.redirect;if(a=await t(e.data.data),!a.success)return a}return e.data})).catch((function(e){return e.response&&e.response.data||e}))}catch(s){a={success:!1,message:s.message}}a.success?e("setLoaded",!0):(e("setLoaded",!1),H.errorPopup(a.message).then((()=>{H.disableScreen(),a.data.redirect?window.location.href=a.data.redirect:window.location.reload()})))},reset({commit:e}){e("setLoaded",!1),e("setProvider",null),e("setReceiver",null),e("setSelectedNetwork",null),e("setBlockConfirmationCount",0)},addOrderParam({commit:e},t){e("addOrderParam",t)},addDynamicData({commit:e},t){e("addDynamicData",t)},setParams({commit:e},t){e("setConfig",t),e("setOrder",t.order),e("setNetworks",t.networks),e("setReceiver",t.receiver)},async currencyConverter({commit:e,state:t},o){if(0==t.order.amount)return 0;e("addOrderParam",{paymentCurrency:o});let n=await new Promise((e=>{W.Z.get("/currency-converter",{params:{order:t.order,network:t.selectedNetwork}}).then((t=>{t.data.success?e(t.data.data):(e(!1),H.infoPopup(t.data.message).then((()=>{H.disableScreen(),window.location.reload()})))})).catch((t=>{e(!1),H.infoPopup(t.response.data.message).then((()=>{H.disableScreen(),window.location.reload()}))}))}));return n?e("addOrderParam",{paymentAmount:n}):(e("addOrderParam",{paymentAmount:0}),H.infoPopup(t.config.lang.convertingError).then((()=>{H.disableScreen(),window.location.reload()}))),n}},getters:{getBlockConfirmationCount:e=>e.blockConfirmationCount,getSelectedNetwork:e=>e.selectedNetwork,getNetworks:e=>e.networks,getReceiver:e=>e.receiver,getProvider:e=>e.provider,getConfig:e=>e.config,getLoaded:e=>e.loaded,getOrder:e=>e.order,getDynamicData:e=>e.dynamicData}}),xe=o(6107),De=o(2748),Me=(o(4415),o(6423)),Oe=o(6553),Se=o.n(Oe);const We={class:"cp-full-height"},je={class:"cp-wrapper"},ze={class:"container"},Te={class:"inner"};function Le(e,t,o,r,i,a){const s=(0,n.up)("cp-powered-by");return(0,n.wg)(),(0,n.iD)("div",{class:(0,n.C_)(["cp-app","theme-"+e.$root.config.theme])},[(0,n._)("div",We,[(0,n._)("div",je,[(0,n._)("div",ze,[(0,n._)("div",Te,[(0,n.WI)(e.$slots,"default")]),(0,n.Wm)(s)])])])],2)}var Ae={name:"Container",created(){const e=document.createElement("template");e.innerHTML=`\n            <div class="footer ${this.$root.config.theme}">\n                <span class="powered-by">\n                    Powered by\n                </span>\n                <a href="https://beycanpress.com/cryptopay?utm_source=lite_version&utm_medium=powered_by" target="_blank">CryptoPay</a>\n            </div>\n            <style>\n                .footer {\n                    display: flex;\n                    font-size: 14px;\n                    padding: 20px 30px;\n                    padding-bottom: 0px;\n                    justify-content: center;\n                }\n                .footer a {\n                    font-weight: 600;\n                    color: #7F7F7F;\n                    text-decoration: none;\n                }\n                .footer .powered-by {\n                    color: #7F7F7F;\n                    font-weight: 400;\n                    margin-right: 5px;\n                }\n            </style>\n        `;class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(e.content.cloneNode(!0))}}window.customElements.get("cp-powered-by")||window.customElements.define("cp-powered-by",t)},mounted(){this.$nextTick((()=>{setInterval((()=>{document.querySelector("cp-powered-by")?document.querySelector("cp-powered-by").style.display="block":document.querySelector(".cp-app .container")&&(document.querySelector(".cp-app .container").innerHTML+="<cp-powered-by></cp-powered-by>")}),1e3)}))}};const Ee=(0,m.Z)(Ae,[["render",Le]]);var Ie=Ee;window.Swal=z(),window.cpHelpers=H,window.initCryptoPayLite=(e,t)=>{t.theme&&document.querySelector("body").classList.add("cp-theme-"+t.theme||0),t.testnet=!!t.testnet,Ne.dispatch("setParams",t),t.params||(t.params={}),W.Z.defaults.baseURL=t.apiUrl,W.Z.defaults.params={cp_lite_addon:t.addon,params:t.params},Ce.mixins=[{data:function(){return{config:t}}}];const o=(0,n.ri)(Ce);for(const[n,r]of Object.entries(De))o.component(n,r);return o.component("container",Ie),o.use(Se()),o.use(xe.Z),o.use(Ne),o.use(Me.Z,W.Z),o.mount("#"+e),o.reset=()=>{o.unmount(),Ne.dispatch("reset"),document.getElementById(e).innerHTML=""},o.addDynamicData=e=>{Ne.dispatch("addDynamicData",e)},o.helpers=H,o}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=e,function(){o.amdO={}}(),function(){var e=[];o.O=function(t,n,r,i){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],i=e[d][2];for(var s=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(s=!1,i<a&&(a=i));if(s){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,a=n[0],s=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var d=c(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},n=self["webpackChunkcryptopay"]=self["webpackChunkcryptopay"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(7809)}));n=o.O(n)})();