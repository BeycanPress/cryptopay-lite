(function(){"use strict";var e={5524:function(e,t,o){var n=o(9003);const r={class:"cp-app-content"};function i(e,t,o,i,a,s){const c=(0,n.up)("NetworkList"),l=(0,n.up)("WalletPayment"),d=(0,n.up)("Modal"),p=(0,n.up)("container");return(0,n.wg)(),(0,n.j4)(p,null,{default:(0,n.w5)((()=>[(0,n._)("div",r,[!0!==s.loaded?((0,n.wg)(),(0,n.j4)(c,{key:0,networks:s.networks},null,8,["networks"])):!0===s.loaded?((0,n.wg)(),(0,n.j4)(l,{key:1,network:s.selectedNetwork},null,8,["network"])):(0,n.kq)("",!0),(0,n.Wm)(d,{show:"loading"==s.loaded,loading:!0,title:e.$root.config.lang.loading},null,8,["show","title"])])])),_:1})}const a={ref:"modal",class:"cp-modal"},s={class:"content"},c={class:"cp-title"},l={key:0,class:"waiting-icon"},d=(0,n.uE)('<svg width="94px" height="94px" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="#2172E5"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g></svg>',1),p=[d];function u(e,t,o,r,i,d){return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",s,[(0,n._)("div",c,(0,n.zw)(o.title),1),o.loading?((0,n.wg)(),(0,n.iD)("div",l,p)):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"default")])],512)),[[n.F8,o.show]])}var g={name:"Modal",emits:["close"],props:["title","loading","show"],mounted(){this.$refs.modal.addEventListener("click",(e=>{this.$refs.modal==e.target&&this.$emit("close")}))}},w=o(89);const m=(0,w.Z)(g,[["render",u]]);var h=m;const f={key:0},k={class:"cp-title"},y={class:"cp-list"},v=["onClick"],b=["src","alt"],C={class:"name"};function $(e,t,o,r,i,a){const s=(0,n.up)("Right"),c=(0,n.up)("el-icon");return o.networks.length>1?((0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("div",k,(0,n.zw)(e.$root.config.lang.selectNetwork),1),(0,n._)("ul",y,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.networks,(e=>((0,n.wg)(),(0,n.iD)("li",{class:"network",key:e.nativeCurrency.symbol,onClick:t=>a.selectNetwork(e)},[(0,n._)("img",{class:"img-icon",src:a.getNetworkIcon(e),alt:e.nativeCurrency.symbol},null,8,b),(0,n._)("span",C,(0,n.zw)(e.name),1),(0,n.Wm)(c,{size:25},{default:(0,n.w5)((()=>[(0,n.Wm)(s)])),_:1})],8,v)))),128))])])):(0,n.kq)("",!0)}var P={name:"NetworkList",props:["networks"],methods:{selectNetwork(e){this.$store.dispatch("init",e)},getNetworkIcon(e){return this.$root.config.imagesUrl+"icons/"+e.nativeCurrency.symbol.toLowerCase()+".svg"}}};const N=(0,w.Z)(P,[["render",$]]);var _=N;const x={id:"cp-currencies"},M=["onClick"],S=["src","alt"],W={class:"currency-name"};function O(e,t,o,r,i,a){const s=(0,n.up)("Header"),c=(0,n.up)("el-col"),l=(0,n.up)("el-row"),d=(0,n.up)("el-alert"),p=(0,n.up)("el-button"),u=(0,n.up)("WalletList"),g=(0,n.up)("Modal"),w=(0,n.up)("Confirmation");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(s,{order:a.order,selectedNetwork:a.selectedNetwork},null,8,["order","selectedNetwork"]),(0,n.Wm)(l,{class:"cp-payment-currency"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{span:24},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.paymentCurrency),1)])),_:1}),(0,n.Wm)(c,{span:24},{default:(0,n.w5)((()=>[(0,n._)("ul",x,[(0,n.Wm)(l,{gutter:20},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.currencies,(e=>((0,n.wg)(),(0,n.j4)(c,{span:12,key:e.address},{default:(0,n.w5)((()=>[(0,n._)("li",{class:(0,n.C_)(a.isSelected(e)),onClick:t=>a.changeSelectedCurrency(e)},[(0,n._)("img",{class:"icon",src:a.getCurrencyImage(e),alt:e.symbol},null,8,S),(0,n._)("span",W,(0,n.zw)(e.symbol),1)],10,M)])),_:2},1024)))),128))])),_:1})])])),_:1})])),_:1}),(0,n.Wm)(l,{class:"cp-crypto-price"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.amountToBePaid),1)])),_:1}),(0,n.Wm)(c,{span:12},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{title:a.getPaymentPrice,type:"success",closable:!1,class:"cp-crypto-price"},null,8,["title"])])),_:1})])),_:1}),(0,n._)("div",null,[a.selectedNetwork?((0,n.wg)(),(0,n.j4)(p,{key:0,type:"primary",class:"pay-now cp-pay-action-btn",onClick:t[0]||(t[0]=t=>e.walletModal=!0)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.payNow),1)])),_:1})):(0,n.kq)("",!0)]),(0,n.Wm)(u,{onConnected:a.connected,onCloseModal:t[1]||(t[1]=t=>e.walletModal=!1),show:e.walletModal,wallets:e.wallets},null,8,["onConnected","show","wallets"]),(0,n.Wm)(g,{show:e.approval,loading:!0,title:e.$root.config.lang.waitingApproval},null,8,["show","title"]),e.startConfirmation?((0,n.wg)(),(0,n.j4)(w,{key:0,hash:e.hash},null,8,["hash"])):(0,n.kq)("",!0)])}var z=o(4161),j=o(2492),T=o.n(j);function L(){T().close()}function D(e,t=null){return T().fire({title:e,html:t,icon:"info",didOpen:()=>{T().hideLoading()}})}function E(e,t=null){return T().fire({title:e,html:t,icon:"warning",didOpen:()=>{T().hideLoading()}})}function I(e,t=null){return T().fire({title:e,html:t,icon:"error",didOpen:()=>{T().hideLoading()}})}function U(e,t=null){return T().fire({title:e,html:t,icon:"success",didOpen:()=>{T().hideLoading()}})}function q(e,t=null){T().fire({title:e,html:t,allowOutsideClick:!1,didOpen:()=>{T().showLoading()}})}function A(){var e=document.createElement("div");e.className+="overlay",e.style.backgroundColor="#EFEFEF",e.style.position="fixed",e.style.width="100%",e.style.height="100%",e.style.zIndex="999999999999999",e.style.top="0px",e.style.left="0px",e.style.opacity=".5",document.body.appendChild(e)}function Z(){window.onbeforeunload=()=>"There is an ongoing process, please do not close the browser."}function B(){window.onbeforeunload=!1}function F(){var e=new Date,t=e.getTime()+6e4*e.getTimezoneOffset(),o=new Date(t+0);return Math.floor(o.getTime()/1e3)}function R(){let e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}var H={Swal:T(),infoPopup:D,errorPopup:I,warningPopup:E,successPopup:U,waitingPopup:q,disableScreen:A,ongoingProcess:Z,ongoingProcessEnded:B,closePopup:L,getUTCTime:F,isMobile:R};function K(e,t,o,r,i,a){const s=(0,n.up)("el-col"),c=(0,n.up)("el-row");return(0,n.wg)(),(0,n.j4)(c,{justify:"center",class:"cp-information-row"},{default:(0,n.w5)((()=>[o.order.id?((0,n.wg)(),(0,n.j4)(s,{key:0,span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.orderId),1)])),_:1})):(0,n.kq)("",!0),o.order.id?((0,n.wg)(),(0,n.j4)(s,{key:1,span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(o.order.id),1)])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(s,{span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.orderAmount),1)])),_:1}),(0,n.Wm)(s,{span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(o.order.amount)+" "+(0,n.zw)(o.order.currency),1)])),_:1}),(0,n.Wm)(s,{span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.selectedNetwork),1)])),_:1}),(0,n.Wm)(s,{span:12},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(o.selectedNetwork.name),1)])),_:1})])),_:1})}var Y={name:"Header",props:["order","selectedNetwork"]};const J=(0,w.Z)(Y,[["render",K]]);var G=J;const Q={key:0,class:"cp-list"},V=["onClick"],X=["src","alt"],ee={class:"name"},te={class:"status"},oe={key:0,class:"detected"},ne={key:1,class:"download"},re={key:2,class:"openInApp"},ie={key:1,class:"cp-no-any-wallet"};function ae(e,t,o,r,i,a){const s=(0,n.up)("Modal");return(0,n.wg)(),(0,n.j4)(s,{show:o.show,onClose:t[0]||(t[0]=t=>e.$emit("closeModal")),loading:e.waiting,title:e.$root.config.lang.selectWallet},{default:(0,n.w5)((()=>[!e.waiting&&a.anyWalletIsFounded()?((0,n.wg)(),(0,n.iD)("ul",Q,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.wallets,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t.getKey(),onClick:e=>a.connect(t),style:(0,n.j5)(a.hideInMobile(t))},[(0,n._)("img",{class:"img-icon",src:a.getWalletIcon(t),alt:t.getName()},null,8,X),(0,n._)("span",ee,(0,n.zw)(t.getName()),1),(0,n._)("span",te,[!0===t.isDetected()?((0,n.wg)(),(0,n.iD)("span",oe,(0,n.zw)(e.$root.config.lang.detected),1)):e.helpers.isMobile()||!1!==t.isDetected()?e.helpers.isMobile()&&t.getDeepLink()&&"walletconnect"!=t.getKey()?((0,n.wg)(),(0,n.iD)("span",re,(0,n.zw)(e.$root.config.lang.openInApp),1)):(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",ne,(0,n.zw)(e.$root.config.lang.download),1))])],12,V)))),128))])):a.anyWalletIsFounded()?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",ie,(0,n.zw)(e.$root.config.lang.notFoundAnyWallet.replace("{networkName}",a.selectedNetwork.name)),1))])),_:1},8,["show","loading","title"])}var se={name:"WalletList",props:["wallets","show"],emits:["connected","closeModal"],components:{Modal:h},data:()=>({helpers:H,waiting:!1,networkChangeMsg:""}),computed:{selectedNetwork(){return this.$store.getters.getSelectedNetwork}},created(){let e=String(this.$root.config.lang.pleaseTryToConnectagain);this.networkChangeMsg=e.replace("{networkName}",this.selectedNetwork.name)},methods:{hideInMobile(e){if(H.isMobile())return"walletconnect"==e.getKey()||e.getSupports().includes("mobile")&&e.getDeepLink()?"":"display: none;"},anyWalletIsFounded(){return 0!==Object.keys(this.wallets).length},getWalletIcon(e){return this.$root.config.walletImages[e.getKey()]},connect(e){if(!1===e.isDetected()){if(H.isMobile()&&e.getDeepLink()){let t=e.getDeepLink();return t=t.replaceAll("{siteUrl}",window.location.origin),window.open(t,"_blank")}if(!H.isMobile()&&e.getDownloadLink())return window.open(e.getDownloadLink(),"_blank")}this.waiting=!0,e.connect().then((()=>{"function"===typeof e.chainChanged&&e.chainChanged((e=>{this.selectedNetwork.hexId!=e&&H.errorPopup(this.$root.config.lang.connectionError,this.networkChangeMsg).then((()=>{H.disableScreen(),window.location.reload()}))})),this.$emit("connected",e)})).catch((e=>{console.error(e),"request-rejected"==e?H.warningPopup(this.$root.config.lang.connectionRejected):"not-accepted-chain"==e?H.errorPopup(this.$root.config.lang.connectionError,this.networkChangeMsg):"rpc-access-forbidden"==e?H.errorPopup(this.$root.config.lang.rpcAccessForbidden):"invalid-rpc-error"==e?H.errorPopup(this.$root.config.lang.connectionError,this.networkChangeMsg):"timeout"==e?H.errorPopup(this.$root.config.lang.walletConnectionTimedOut,this.$root.config.lang.pleaseTryAgain):this.$root.config.lang[e]?H.errorPopup(this.$root.config.lang[e]):"already-processing"==e?H.errorPopup(this.$root.config.lang.alreadyProcessing):H.errorPopup(this.$root.config.lang.pleaseTryAgain)})).finally((()=>{this.waiting=!1}))}}};const ce=(0,w.Z)(se,[["render",ae]]);var le=ce;const de={key:0},pe={key:0},ue={key:1};function ge(e,t,o,r,i,a){const s=(0,n.up)("el-col"),c=(0,n.up)("el-button"),l=(0,n.up)("el-row"),d=(0,n.up)("Modal");return(0,n.wg)(),(0,n.j4)(d,{show:!0,loading:!0,title:e.$root.config.lang.waitingConfirmation},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{justify:"center",class:"cp-confirmation-row"},{default:(0,n.w5)((()=>[1==e.step?((0,n.wg)(),(0,n.iD)("div",de,[(0,n.Wm)(s,{span:24},{default:(0,n.w5)((()=>[null!=e.blockConfirmations?((0,n.wg)(),(0,n.iD)("div",pe,(0,n.zw)(e.$root.config.lang.waitingBlockConfirmations)+" "+(0,n.zw)(e.blockConfirmations)+" / "+(0,n.zw)(a.blockConfirmationCount),1)):((0,n.wg)(),(0,n.iD)("div",ue,(0,n.zw)(e.$root.config.lang.waitingTransactionConfirmations),1))])),_:1}),(0,n.Wm)(s,{span:24},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"cp-explorer-btn",type:"primary",onClick:t[0]||(t[0]=e=>a.openInExplorer())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.openInExplorer),1)])),_:1})])),_:1})])):((0,n.wg)(),(0,n.j4)(s,{key:1,span:24},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(e.$root.config.lang.pleaseWait),1)])),_:1}))])),_:1})])),_:1},8,["title"])}var we={name:"Confirmation",props:["hash"],components:{Modal:h},data:()=>({tx:null,step:1,blockConfirmations:null}),computed:{order(){return this.$store.getters.getOrder},provider(){return this.$store.getters.getProvider},receiver(){return this.$store.getters.getReceiver},selectedNetwork(){return this.$store.getters.getSelectedNetwork},blockConfirmationCount(){return this.$store.getters.getBlockConfirmationCount}},async mounted(){H.ongoingProcess(),this.tx=this.provider.Transaction(this.hash);let e=this.order.paymentCurrency.address||null;this.tx.setTimer(5);let t=await this.tx.verifyTransferWithData({receiver:this.receiver,tokenAddress:e,amount:this.order.paymentPrice});if(t&&this.tx.getConfirmations&&this.blockConfirmationCount>0){let e=1e3*("bitcoin"==this.selectedNetwork.code?30:5);t=await new Promise((t=>{let o=setInterval((async()=>{this.blockConfirmations=await this.tx.getConfirmations(),this.blockConfirmations>=this.blockConfirmationCount&&(t(!0),clearInterval(o))}),e)}))}this.step=2,z.Z.post("payment-finished",{hash:this.hash,order:this.order,network:this.selectedNetwork}).then((e=>{let t,o=e.data;t=o.success?H.successPopup(o.message):H.errorPopup(o.message),H.ongoingProcessEnded(),t.then((()=>{H.disableScreen(),"reload"==o.data.redirect?window.location.reload():window.location.href=o.data.redirect}))})).catch((e=>{let t=e.response.data||{},o=t.message||e.message;H.errorPopup(o).then((()=>{H.disableScreen(),loaction.reload()}))})).finally((()=>{this.step=3,H.ongoingProcessEnded()}))},methods:{openInExplorer(){window.open(this.tx.getUrl(),"_blank")}}};const me=(0,w.Z)(we,[["render",ge]]);var he=me,fe={name:"WalletPayment",props:["network"],components:{Confirmation:he,WalletList:le,Header:G,Modal:h},data:()=>({wallets:null,approval:!1,converting:!1,walletModal:!1,startConfirmation:!1,blockConfirmations:null,selectedCurrency:null,hash:null,currencies:[],networkChangeMsg:""}),async created(){this.wallets=this.provider.getSupportedWallets(this.selectedNetwork.wallets),this.$nextTick((async()=>{this.currencies=this.selectedNetwork.currencies,this.selectedCurrency=this.currencies[0];let e=String(this.$root.config.lang.pleaseTryToConnectAgain);this.networkChangeMsg=e.replace("{networkName}",this.selectedNetwork.name)}))},computed:{order(){return this.$store.getters.getOrder},provider(){return this.$store.getters.getProvider},selectedNetwork(){return this.$store.getters.getSelectedNetwork},getPaymentPrice(){if(this.converting)return"...";if(!this.selectedCurrency)return;let e=this.order.paymentPrice||0;return e+" "+this.selectedCurrency.symbol},receiver(){return this.$store.getters.getReceiver}},methods:{getCurrencyImage(e){return e.image||this.$root.config.imagesUrl+"icons/"+e.symbol.toLowerCase()+".svg"},async changeSelectedCurrency(e){let t=document.querySelector(".pay-now");this.converting||(t.setAttribute("disabled","disabled"),this.converting=!0,await this.$store.dispatch("currencyConverter",e),this.selectedCurrency=e,t.removeAttribute("disabled"),this.converting=!1)},isSelected(e){return this.selectedCurrency&&this.selectedCurrency.address==e.address?"selected":""},async connected(e){this.approval=!0,this.walletModal=!1;let t=this.selectedCurrency.address||null,o=this.order.paymentCurrency;o.symbol==this.selectedNetwork.nativeCurrency.symbol?o.decimals=this.selectedNetwork.nativeCurrency.decimals:o.decimals=await this.provider.Token(o.address).getDecimals(),this.$store.dispatch("addOrderParam",{paymentCurrency:o}),e.transfer(this.receiver,this.order.paymentPrice,t).then((async e=>{if(z.Z.post("create-transaction",{order:this.order,hash:e.hash,network:this.selectedNetwork}),this.hash=e.hash,this.$root.config.confirmation)this.startConfirmation=!0;else{let e=this.provider.Transaction(this.hash);H.successPopup(this.$root.config.lang.transactionSent,`\n                        <a href="${e.getUrl()}" target="_blank">\n                            ${this.$root.config.lang.openInExplorer}\n                        </a>\n                    `),this.$root.config.callbacks&&this.$root.config.callbacks.transactionSent&&this.$root.config.callbacks.transactionSent(this.selectedNetwork,this.hash)}})).catch((e=>{this.walletModal=!0,"transaction-create-fail"==e?H.errorPopup(this.$root.config.lang.transactionCreateFail,this.$root.config.lang.pleaseTryAgain):"insufficient-balance"==e?H.infoPopup(this.$root.config.lang.insufficientBalance):"transfer-amount-error"==e?H.infoPopup(this.$root.config.lang.transferAmountError):"request-rejected"==e?H.warningPopup(this.$root.config.lang.paymentRejected):this.$root.config.lang[e]?H.errorPopup(this.$root.config.lang[e]):"rpc-access-forbidden"==e?H.errorPopup(this.$root.config.lang.rpcAccessForbidden):"not-accepted-chain"==e?H.errorPopup(this.$root.config.lang.connectionError,this.networkChangeMsg):H.errorPopup(this.$root.config.lang.pleaseTryAgain)})).finally((()=>{this.approval=!1}))}}};const ke=(0,w.Z)(fe,[["render",O]]);var ye=ke,ve={name:"App",components:{Modal:h,NetworkList:_,WalletPayment:ye},created(){1==this.networks.length&&this.$store.dispatch("init",this.networks[0])},computed:{selectedNetwork(){return this.$store.getters.getSelectedNetwork},networks(){return this.$store.getters.getNetworks},loaded(){return this.$store.getters.getLoaded}}};const be=(0,w.Z)(ve,[["render",i]]);var Ce=be,$e=o(65),Pe=(0,$e.MT)({state:{loaded:!1,order:{},config:{},networks:[],provider:null,receiver:null,selectedNetwork:null,blockConfirmationCount:0},mutations:{setOrder(e,t){e.order=t},setConfig(e,t){e.config=t},setProvider(e,t){e.provider=t},setReceiver(e,t){e.receiver=t},setLoaded(e,t){e.loaded=t},setNetworks(e,t){e.networks=t},setSelectedNetwork(e,t){e.selectedNetwork=t},addOrderParam(e,t){e.order=Object.assign(e.order,t)},setBlockConfirmationCount(e,t){e.blockConfirmationCount=t}},actions:{async init({commit:e,state:t},o){let n,r;e("setLoaded","loading"),e("setSelectedNetwork",o),n="evmBased"==o.code?{network:JSON.parse(JSON.stringify(o)),infuraId:t.config.infuraId}:{network:o.code},r=t.selectedNetwork.currencies?t.selectedNetwork.currencies[0]:t.selectedNetwork.nativeCurrency;let i=await z.Z.get("init",{params:{order:t.order,cryptoCurrency:r,amount:t.order.amount,network:t.selectedNetwork,fiatCurrency:t.order.currency}}).then((function(i){if(i.data.success){if(i.data.data.redirect)return"reload"==i.data.data.redirect?window.location.reload():window.location.href=i.data.data.redirect;n.testnet=!!t.config.testnet;let a=t.config.providers[o.code];e("setProvider",new a({network:n.network,testnet:n.testnet})),t.receiver||e("setReceiver",i.data.data.receiver),e("addOrderParam",{paymentCurrency:r,paymentPrice:i.data.data.paymentPrice}),e("setBlockConfirmationCount",i.data.data.blockConfirmationCount)}return i.data})).catch((function(e){return e.response.data.data.redirect?"reload"==e.response.data.data.redirect?window.location.reload():window.location.href=e.response.data.data.redirect:e.response.data||e}));i.success?e("setLoaded",!0):H.errorPopup(i.message).then((()=>{H.disableScreen(),i.data.redirect?window.location.href=i.data.redirect:window.location.reload()}))},reset({commit:e}){e("setLoaded",!1),e("setProvider",null),e("setReceiver",null),e("setSelectedNetwork",null),e("setBlockConfirmationCount",0)},addOrderParam({commit:e},t){e("addOrderParam",t)},setParams({commit:e},t){e("setConfig",t),e("setOrder",t.order),e("setNetworks",t.networks),e("setReceiver",t.receiver)},async currencyConverter({commit:e,state:t},o){let n=await new Promise((e=>{z.Z.get("/currency-converter",{params:{cryptoCurrency:o,amount:t.order.amount,network:t.selectedNetwork,fiatCurrency:t.order.currency}}).then((t=>{t.data.success?e(t.data.data):(e(!1),H.infoPopup(t.data.message).then((()=>{H.disableScreen(),window.location.reload()})))})).catch((t=>{e(!1),H.infoPopup(t.response.data.message).then((()=>{H.disableScreen(),window.location.reload()}))}))}));return n?e("addOrderParam",{paymentPrice:n,paymentCurrency:o}):H.infoPopup(t.config.lang.convertingError).then((()=>{H.disableScreen(),window.location.reload()})),n}},getters:{getBlockConfirmationCount:e=>e.blockConfirmationCount,getSelectedNetwork:e=>e.selectedNetwork,getNetworks:e=>e.networks,getReceiver:e=>e.receiver,getProvider:e=>e.provider,getConfig:e=>e.config,getLoaded:e=>e.loaded,getOrder:e=>e.order}}),Ne=o(6107),_e=o(2748),xe=(o(4415),o(6423)),Me=o(6553),Se=o.n(Me);const We={class:"cp-full-height"},Oe={class:"cp-wrapper"},ze={class:"container"},je={class:"inner"};function Te(e,t,o,r,i,a){const s=(0,n.up)("cp-powered-by");return(0,n.wg)(),(0,n.iD)("div",{class:(0,n.C_)(["cp-app","theme-"+e.$root.config.theme])},[(0,n._)("div",We,[(0,n._)("div",Oe,[(0,n._)("div",ze,[(0,n._)("div",je,[(0,n.WI)(e.$slots,"default")]),(0,n.Wm)(s)])])])],2)}var Le={name:"Container",mounted(){this.$nextTick((()=>{document.querySelector("cp-powered-by").style.display="block"}))}};const De=document.createElement("template");De.innerHTML='\n    <div class="footer">\n        <span class="powered-by">\n            Powered by\n        </span>\n        <a href="https://beycanpress.com/cryptopay" target="_blank">CryptoPay</a>\n    </div>\n    <style>\n        .footer {\n            display: flex;\n            font-size: 14px;\n            padding: 20px 30px;\n            padding-bottom: 0px;\n            justify-content: center;\n        }\n        .footer a {\n            font-weight: 600;\n            color: #19193e;\n            text-decoration: none;\n        }\n        .footer .powered-by {\n            color: #19193e;\n            font-weight: 400;\n            margin-right: 5px;\n        }\n    </style>\n';class Ee extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(De.content.cloneNode(!0))}}window.customElements.define("cp-powered-by",Ee);const Ie=(0,w.Z)(Le,[["render",Te]]);var Ue=Ie,qe=o(861),Ae=o.n(qe);window.Swal=T(),window.initCryptoPayLite=(e,t)=>{t.theme&&document.querySelector("body").classList.add("cp-theme-"+t.theme||0),t.testnet=!!t.testnet,t.providers.evmBased=Ae(),Pe.dispatch("setParams",t),t.params||(t.params={}),z.Z.defaults.baseURL=t.apiUrl,z.Z.defaults.params={cp_lite_addon:t.addon,params:t.params},Ce.mixins=[{data:function(){return{config:t}}}];const o=(0,n.ri)(Ce);for(const[n,r]of Object.entries(_e))o.component(n,r);return o.component("container",Ue),o.use(Se()),o.use(Ne.Z),o.use(Pe),o.use(xe.Z,z.Z),o.mount("#"+e),o.reset=()=>{Pe.dispatch("reset"),document.getElementById(e).innerHTML=""},o.helpers=H,o}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=e,function(){o.amdO={}}(),function(){var e=[];o.O=function(t,n,r,i){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],i=e[d][2];for(var s=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(s=!1,i<a&&(a=i));if(s){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,a=n[0],s=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var d=c(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},n=self["webpackChunkcryptopay"]=self["webpackChunkcryptopay"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(5524)}));n=o.O(n)})();